<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/pages/templates/default.xhtml">
        <ui:define name="corpo">
            <h:form id="editarComissao">
                <div id="centro">
                    <br></br>
                    <legend id="iUsu3" style="font-size:12px;margin-left:4%;border-color: #fff;color:#fff;width: 92%"><b style="color:#fff">Fornecedor</b></legend>
                    <p:outputLabel value="Fornecedor" for="fornecedor" style="margin-left:4%;color:#fff"/>
                <p:outputLabel value="Comissão TM" for="comissaotm" style="margin-left:30%;color:#fff"/>
                <p:outputLabel value="Valor NET" for="valornet" style="margin-left:13.7%;color:#fff"/>
                <p:outputLabel value="Prev. de Pgto" for="prePagamento" style="margin-left:13.7%;color:#fff"/>
                <br></br>
                <p:inputText id="fornecedor" style="margin-left:4%;width:32%" readonly="true" value="#{vendasFinanceiroComissaoMB.venda.fornecedorcidade.fornecedor.nome}"/>
                <p:inputText id="comissaotm" style="margin-left:4.5%;width:12%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.comissaotm}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandLink  action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editarcomissaotm)}" style="margin-left:0.4%;text-decoration:none;">
                    <img src="../../resources/img/editardata.png"/>
                    <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:comissaotm, :editarComissao:liquidovenda, :editarComissao:comissaogerente" />
                </p:commandLink>
                <p:inputText id="valornet" style="margin-left:6.8%;width:12%;text-align: right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.valorfornecedor}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:inputMask id="prePagamento" style="margin-left:7.5%;width:14%;" mask="99/99/9999" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.previsaopagamento}">
                    <f:convertDateTime   pattern="dd/MM/yyyy"  timeZone="America/Sao_Paulo"/>
                </p:inputMask>
                <p:commandLink style="margin-left:0.4%;text-decoration:none;" update=":editarData:dialog_editarDataVencimento"  oncomplete="PF('editarData').show()" title="Editar data">
                    <img src="../../resources/img/editardata.png"/>
                </p:commandLink>
                <br></br>  <br></br>
                <legend id="iUsu3"  style="font-size:12px;margin-left:4%;border-color: #fff;color:#fff;width: 92%"><b style="color:#fff">Informações Adicionais</b></legend>
                <p:outputLabel value="Taxa TM" for="taxatm" style="margin-left:4%;color:#fff"/>
                <p:outputLabel value="Deságio" for="desagio" style="margin-left:20%;color:#fff"/>
                <p:outputLabel value="Desconto Matriz" for="descontomatriz" style="margin-left:21%;color:#fff"/>
                <p:outputLabel value="Desconto Loja" for="descontoloja" style="margin-left:17%;color:#fff"/>
                <br></br> 
                <p:inputText id="taxatm" style="margin-left:4%;width:13.5%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.taxatm}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:inputText id="desagio" style="margin-left:11.5%;width:15%;text-align: right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.desagio}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandLink style="margin-left:0.4%;text-decoration:none;" action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editardesagio)}">
                    <img src="../../resources/img/editardata.png"/>
                    <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:desagio, :editarComissao:comissaofranquia, :editarComissao:liquidofrq, :editarComissao:comissaoconsultor , :editarComissao:comissaogerente, :editarComissao:liquidovenda" />
                </p:commandLink>
                <p:inputText id="descontomatriz" style="margin-left:8%;width:15%;text-align: right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.descontotm}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:inputText id="descontoloja" style="margin-left:11%;width:15%;text-align: right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.descontoloja}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <br></br>  <br></br>
                <legend id="iUsu3"  style="font-size:12px;margin-left:4%;border-color: #fff;color:#fff;width: 92%"><b style="color:#fff">Fraquia</b></legend>
                <p:outputLabel value="Unidade" for="unidade" style="margin-left:4%;color:#fff"/>
                <p:outputLabel value="Comissão" for="comissaofranquia" style="margin-left:31%;color:#fff"/>
                <p:outputLabel value="Incentivo" for="incentivofranquia" style="margin-left:15%;color:#fff"/>
                 <p:outputLabel value="Líquido FRQ" for="liquidofrq" style="margin-left:16.4%;color:#fff"/>
                <br></br> 
                <p:inputText id="unidade" style="margin-left:4%;width:30%" readonly="true" value="#{vendasFinanceiroComissaoMB.venda.unidadenegocio.nomeFantasia}"/>
                <p:inputText id="comissaofranquia" style="margin-left:6%;width:12%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.comissaofraquia}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandLink style="margin-left:0.4%;text-decoration:none;"  action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editarcomissaofranquia)}">
                    <img src="../../resources/img/editardata.png"/>
                    <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:comissaofranquia, :editarComissao:liquidofrq, :editarComissao:comissaoconsultor, :editarComissao:comissaogerente, :editarComissao:liquidovenda" />
                </p:commandLink>
                <p:inputText id="incentivofranquia" style="margin-left:6%;width:13%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.incentivo}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandLink style="margin-left:0.4%;text-decoration:none;" action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editarincentivo)}">
                    <img src="../../resources/img/editardata.png"/>
                    <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:incentivofranquia, :editarComissao:liquidofrq, :editarComissao:comissaoconsultor, :editarComissao:comissaogerente, :editarComissao:liquidovenda" />
                </p:commandLink>
                <p:inputText id="liquidofrq" style="margin-left:6%;width:13.5%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.liquidofranquia}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <br></br> <br></br>
                <legend id="iUsu3" style="font-size:12px;margin-left:4%;border-color: #fff;color:#fff;width: 92%" ><b style="color:#fff">Comissão</b></legend>
                <p:outputLabel value="Terceiros" for="terceiros" style="margin-left:4%;color:#fff"/>
                <p:outputLabel value="Comissão" for="comissaoterceiros" style="margin-left:37%;color:#fff"/>
                <br></br> 
                <p:selectOneMenu id="terceiros" style="margin-left:4%;width:34%" value="#{vendasFinanceiroComissaoMB.vendascomissao.terceiros.nome}"
                                   converter="TerceirosConverter" filter="true" filterMatchMode="startsWith" > 
                        <f:selectItems id="idterceiros" value="#{vendasFinanceiroComissaoMB.listaTerceiros}" var="terceirosSelecionado" itemLabel="#{terceirosSelecionado}" itemValue="#{terceirosSelecionado}"/>
                        <f:attribute name="listaTerceiros" value="#{vendasFinanceiroComissaoMB.listaTerceiros}"/>
                </p:selectOneMenu>
                <p:inputText id="comissaoterceiros" style="margin-left:8%;width:15%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.comissaoterceiros}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandLink style="margin-left:0.4%;text-decoration:none;" action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editarcomissaoterceiros)}">
                    <img src="../../resources/img/editardata.png"/>
                    <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:comissaoterceiros, :editarComissao:liquidovenda" />
                </p:commandLink>
                
                <br></br><br></br>
                <p:outputLabel value="Consultor" for="consultor" style="margin-left:4%;color:#fff"/>
                <p:outputLabel value="Comissão" for="comissaoconsultor" style="margin-left:36.4%;color:#fff"/>
               <br></br>
               <p:inputText id="consultor" style="margin-left:4%;width:34%" readonly="true" value="#{vendasFinanceiroComissaoMB.venda.usuario.nome}"/>
               <p:inputText id="comissaoconsultor" style="margin-left:8%;width:15%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.comissaoemissor}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
               <p:commandLink style="margin-left:0.4%;text-decoration:none;" action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editarComissaoConsultor)}" >
                    <img src="../../resources/img/editardata.png"/>
                    <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:comissaoconsultor, :editarComissao:liquidovenda" />
                </p:commandLink>
                
                 <br></br><br></br>
                <p:outputLabel value="Gerente" for="gerente" style="margin-left:4%;color:#fff"/>
                <p:outputLabel value="Comissão" for="comissaogerente" style="margin-left:37.5%;color:#fff"/>
                <br></br>
                <p:inputText id="gerente" style="margin-left:4%;width:34%" readonly="true" value="#{vendasFinanceiroComissaoMB.nomeGerente()}"/>
                <p:inputText id="comissaogerente" style="margin-left:8%;width:15%;text-align:right" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.comissaogerente}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandLink style="margin-left:0.4%;text-decoration:none;"  action="#{vendasFinanceiroComissaoMB.editarInformacoes(vendasFinanceiroComissaoMB.editarcomissaogerente)}" >
                     <img src="../../resources/img/editardata.png"/>
                     <p:ajax event="dialogReturn" listener="#{vendasFinanceiroComissaoMB.retornoDialog}" process="@this" update=":editarComissao:comissaogerente, :editarComissao:liquidovenda" />
                </p:commandLink>
                <br></br><br></br> 
                <legend id="iUsu3"  style="font-size:12px;margin-left:4%;border-color: #fff;color:#fff;width: 92%"><b style="color:#fff">Líquido da Venda</b></legend>
                <p:inputText id="liquidovenda" style="margin-left:4%;width:17%;text-align:right;" readonly="true" value="#{vendasFinanceiroComissaoMB.vendascomissao.liquidovendas}">
                    <f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
                </p:inputText>
                <p:commandButton value="Confirmar" icon=" ui-icon-check" action="#{vendasFinanceiroComissaoMB.confirmar()}" style="margin-left:52%"/>
                <p:commandButton value="Cancelar" icon="ui-icon-closethick" action="#{vendasFinanceiroComissaoMB.cancelar()}" style="margin-left:3%"/>
                <br></br><br></br> <br></br> 
                </div>
            </h:form>  
            <h:form id="editarData">
                <p:dialog id="dialog_editarDataVencimento" header="Editar Data" widgetVar="editarData" width="20%" style="background:#d0e9c6;text-align: left" >
                    <p:outputLabel value="Data de Vencimento" for="dataVencimento"  style="font-size: 11px"/> 
                    <br></br>
                    <p:calendar id="dataVencimento" class="fontebranca" value="#{vendasFinanceiroComissaoMB.venda.dataVenda}"  pattern="dd/MM/yyyy" mask="true"  maxlength="15" locale="pt"  >
                        <f:convertDateTime    timeZone="America/Sao_Paulo"/>
                        <p:ajax event="change" />
                        <p:ajax event="dateSelect" />
                    </p:calendar>
                    <p:commandButton value="Salvar" icon="ui-icon-check" action="#{vendasFinanceiroComissaoMB.confirmaAlterarDataVenda()}" class="espacocobranca23botao" style="font-size:11px;" update="@all"/>
                </p:dialog>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
