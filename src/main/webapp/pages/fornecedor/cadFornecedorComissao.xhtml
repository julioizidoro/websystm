<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <link href="../../resources/css/css.css" rel="stylesheet" type="text/css" />
        <link href="../../resources/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
     
    </h:head>
    <h:body>
        <h:form id="cadastrofornecedorcomissao" style="text-align:left;font-size: 10px;"><br></br>
            <title>Cadastro Comissão</title>
            <p:outputLabel value="Fornecedor:" for="fornecedor" class="espacocobranca42" style="margin-left:1.5%"/>
            <p:selectOneMenu id="fornecedor" value="#{fornecedorComissaoMB.fornecedor}" style="width:34%;font-size: 10px" class="espacocobranca29" 
                             converter="FornecedorConverter"  filter="true" filterMatchMode="startsWith" panelStyle="width:450px" >
                <f:selectItem itemLabel="Selecione" itemValue="0" noSelectionOption="true"/> 
                <f:selectItems id="idfornecedor" value="#{fornecedorComissaoMB.listaFornecedor}" var="fornecadorselecionado" itemLabel="#{fornecadorselecionado.nome}" itemValue="#{fornecadorselecionado}"/>
                <f:attribute name="listaFornecedorCidade" value="#{fornecedorComissaoMB.listaFornecedor}"/>
                <p:ajax event="change" update="pais" listener="#{fornecedorComissaoMB.gerarListaPais()}"/> 
            </p:selectOneMenu>
            <p:outputLabel value="País:" for="pais" class="espacocobranca333" />
            <p:selectOneMenu id="pais" value="#{fornecedorComissaoMB.pais}" style="width:30.5%;font-size: 10px" class="espacocobranca29" 
                             converter="PaisFornecedorConverter" filter="true" filterMatchMode="startsWith" >
                <f:selectItem itemLabel="Selecione" itemValue="0" noSelectionOption="true"/> 
                <f:selectItems id="idpais" value="#{fornecedorComissaoMB.listaPais}" var="cpais" itemLabel="#{cpais.nome}" itemValue="#{cpais}"/>
                <f:attribute name="listaPaisFornecedor" value="#{fornecedorComissaoMB.listaPais}"/>
                <p:ajax event="change" /> 
            </p:selectOneMenu>
            <br></br> <br></br>
            <p:outputLabel value="Produto:" for="produto" class="espacocobranca28" />
            <p:selectOneMenu id="produto" value="#{fornecedorComissaoMB.produtoOrcamento}" style="width:24%;font-size: 10px;" class="espacocobranca29" 
                             converter="ProdutoOrcamentoConverter" filter="true" filterMatchMode="startsWith">
                <f:selectItem itemLabel="Selecione" itemValue="0" noSelectionOption="true"/> 
                <f:selectItems id="idproduto" value="#{fornecedorComissaoMB.listaProdutos}" var="cproduto" itemLabel="#{cproduto.produtosorcamento.descricao}" itemValue="#{cproduto.produtosorcamento}"/>
                <f:attribute name="listaProdutos" value="#{fornecedorComissaoMB.listaProdutos}"/>
                <p:ajax event="change"/> 
            </p:selectOneMenu>
            <p:outputLabel value="% Comissão Matriz:" for="produto" style="margin-left: 2%"/>
            <p:inputText value="#{fornecedorComissaoMB.fornecedorcomissaocurso.percmatriz}" style="width:10%;" class="espacocobranca29"/>
            <p:outputLabel value="% Comissão Loja:" for="produto" class="espacocobranca28" style="margin-left: 2%"/>
            <p:inputText value="#{fornecedorComissaoMB.fornecedorcomissaocurso.percloja}" style="width:10%" class="espacocobranca29"/>
            <br></br> <br></br>
            <p:commandButton class="espacocobranca21" icon="ui-icon-plus" value="Adicionar" action="#{fornecedorComissaoMB.salvar()}" update="tabelacomissao"></p:commandButton>
            <p:commandButton class="espacocampos" icon="ui-icon-close" value="Cancelar" action="#{fornecedorComissaoMB.cancelarCadastro()}"/>
            <br></br> <br></br><br></br> 
            <p:dataTable id="tabelacomissao" var="comissao"  value="#{fornecedorComissaoMB.listaComissao}" class="tabela5" 
                         scrollable="true" scrollHeight="70" style="margin-bottom:20px" >
                <p:column headerText="Produto"  >
                    <p:outputLabel value="#{comissao.produtosorcamento.descricao}" />
                </p:column>
                <p:column headerText="Comissão Loja" style="text-align:right;width:100px;" >
                    <p:outputLabel value="#{comissao.fornecedorcomissaocurso.percloja}" />
                </p:column>
                <p:column headerText="Comissão Matriz" style="text-align:right;width:100px;" >
                    <p:outputLabel value="#{comissao.fornecedorcomissaocurso.percmatriz}" />
                </p:column>
            </p:dataTable>
            <p class="botaoeditareceber"><br></br>
                 <p:commandButton class="espacocampos" icon="ui-icon-close" value="Fechar" action="#{fornecedorComissaoMB.cancelarCadastro()}"></p:commandButton>
            </p>
        </h:form>     
    </h:body>
</html>